<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeNPixel - Game Dev & Graphics Programming</title>
    <meta name="description" content="Dive into game development and graphics programming with CodeNPixel. Learn Unreal Engine, OpenGL, and more through tutorials and insights.">
    <meta name="keywords" content="game development, graphics programming, Unreal Engine, OpenGL, game dev, programming tutorials">
    <meta name="author" content="CodeNPixel">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="CodeNPixel - Game Dev & Graphics Programming">
    <meta property="og:description" content="Dive into game development and graphics programming with CodeNPixel. Learn Unreal Engine, OpenGL, and more through tutorials and insights.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codenPixel.com">
    <meta property="og:image" content="/assets/og-image.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="CodeNPixel - Game Dev & Graphics Programming">
    <meta name="twitter:description" content="Dive into game development and graphics programming with CodeNPixel. Learn Unreal Engine, OpenGL, and more through tutorials and insights.">
    <meta name="twitter:image" content="/assets/twitter-image.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://codenPixel.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-orange': '#ff6b35',
                        'brand-orange-light': '#ff8c42',
                        'brand-orange-lighter': '#ffa726',
                        'brand-orange-dark': '#e5522d',
                    },
                    backgroundImage: {
                        'brand-gradient': 'linear-gradient(135deg, #ff6b35 0%, #ff8c42 100%)',
                        'brand-gradient-light': 'linear-gradient(135deg, #ff8c42 0%, #ffa726 100%)',
                        'hero-pattern': 'url("data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'><defs><pattern id=\'grid\' width=\'10\' height=\'10\' patternUnits=\'userSpaceOnUse\'><path d=\'M 10 0 L 0 0 0 10\' fill=\'none\' stroke=\'rgba(255,255,255,0.1)\' stroke-width=\'0.5\'/></pattern></defs><rect width=\'100\' height=\'100\' fill=\'url(%23grid)\'/></svg>")',
                        'dots-pattern': 'url("data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'><circle cx=\'20\' cy=\'20\' r=\'2\' fill=\'%23ffffff20\'/><circle cx=\'80\' cy=\'40\' r=\'1\' fill=\'%23ffffff30\'/><circle cx=\'40\' cy=\'70\' r=\'1.5\' fill=\'%23ffffff25\'/><circle cx=\'60\' cy=\'10\' r=\'1\' fill=\'%23ffffff20\'/><circle cx=\'10\' cy=\'60\' r=\'1\' fill=\'%23ffffff30\'/><circle cx=\'90\' cy=\'80\' r=\'2\' fill=\'%23ffffff15\'/></svg>")',
                    },
                    animation: {
                        'float': 'float 20s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s ease-in-out infinite',
                        'bounce-slow': 'bounce 3s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        @keyframes float-dots {
            0% { transform: translateX(-10px); }
            100% { transform: translateX(calc(100vw + 10px)); }
        }
        
        .animate-float-dots {
            animation: float-dots 20s infinite linear;
        }
        
        .htmx-indicator {
            display: none;
        }
        
        .htmx-request .htmx-indicator {
            display: block;
        }
        
        .post-image-generated {
            background-size: 100px 100px;
        }

        /* loding  */
        /* Loading Overlay */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(5px);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.loading-overlay.show {
    opacity: 1;
    visibility: visible;
}

.loading-content {
    text-align: center;
    padding: 2rem;
    background: white;
    border-radius: 1rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border: 2px solid #ff6b35;
}

.loading-spinner {
    width: 60px;
    height: 60px;
    border: 4px solid #f3f3f3;
    border-top: 4px solid #ff6b35;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.loading-dots {
    display: inline-block;
    margin-left: 0.5rem;
}

.loading-dots::after {
    content: '';
    animation: dots 1.5s infinite;
}

@keyframes dots {
    0%, 20% { content: ''; }
    40% { content: '.'; }
    60% { content: '..'; }
    80%, 100% { content: '...'; }
}

.loading-progress {
    width: 200px;
    height: 4px;
    background: #f3f3f3;
    border-radius: 2px;
    overflow: hidden;
    margin: 1rem auto;
}

.loading-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #ff6b35, #ff8c42);
    border-radius: 2px;
    animation: progress 2s ease-in-out infinite;
}

@keyframes progress {
    0% { width: 0%; }
    50% { width: 70%; }
    100% { width: 100%; }
}
    </style>
</head>
<body class="bg-gradient-to-br from-white to-orange-50 text-gray-800 leading-relaxed">
    <!-- Header -->
    <header class="bg-white/95 backdrop-blur-sm fixed w-full top-0 z-50 border-b-2 border-brand-orange shadow-lg shadow-brand-orange/10">
        <nav class="container mx-auto px-5 flex justify-between items-center py-4">
            <div class="text-2xl font-bold text-brand-orange cursor-pointer hover:text-brand-orange-light transition-colors duration-300" 
                 hx-get="/home" hx-target="#main-content" hx-push-url="/">
                CodeNPixel
            </div>
            <ul class="hidden md:flex space-x-8">
                <li><a class="text-gray-700 font-medium hover:text-brand-orange transition-all duration-300 cursor-pointer relative group" 
                       hx-get="/home" hx-target="#main-content" hx-push-url="/">
                    Home
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-brand-orange group-hover:w-full transition-all duration-300"></span>
                </a></li>
                <li><a class="text-gray-700 font-medium hover:text-brand-orange transition-all duration-300 cursor-pointer relative group" 
                       hx-get="/posts" hx-target="#main-content" hx-push-url="/posts">
                    Posts
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-brand-orange group-hover:w-full transition-all duration-300"></span>
                </a></li>
                <li><a href="#about" class="text-gray-700 font-medium hover:text-brand-orange transition-all duration-300 relative group">
                    About
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-brand-orange group-hover:w-full transition-all duration-300"></span>
                </a></li>
                <li><a href="#contact" class="text-gray-700 font-medium hover:text-brand-orange transition-all duration-300 relative group">
                    Contact
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-brand-orange group-hover:w-full transition-all duration-300"></span>
                </a></li>
            </ul>
            <!-- Mobile menu button -->
            <button class="md:hidden text-brand-orange hover:text-brand-orange-light transition-colors duration-300">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </nav>
    </header>

    <!-- Main Content Area -->
    <div id="main-content" class="pt-20">
        <!-- Hero Section -->
        <section class="bg-brand-gradient text-white py-20 relative overflow-hidden">
            <div class="absolute inset-0 bg-hero-pattern animate-float opacity-30"></div>
            <div class="container mx-auto px-5 text-center relative z-10">
                <div class="max-w-4xl mx-auto">
                    <h1 class="text-5xl md:text-6xl font-bold mb-6 text-shadow-lg">CodeNPixel</h1>
                    <p class="text-xl md:text-2xl mb-8 opacity-90">Dive into Game Development & Graphics Programming</p>
                    <button class="bg-white text-brand-orange px-8 py-4 rounded-full font-bold text-lg hover:bg-gray-100 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-2xl shadow-lg cursor-pointer"
                            hx-get="/posts" hx-target="#main-content" hx-push-url="/posts">
                        Explore Posts
                    </button>
                </div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="bg-gradient-to-r from-white to-orange-50 py-16 border-t-4 border-brand-orange">
            <div class="container mx-auto px-5 text-center">
                <h2 class="text-4xl font-bold text-brand-orange mb-4">Stay Updated</h2>
                <p class="text-gray-600 mb-8 text-lg max-w-2xl mx-auto">
                    Get the latest insights on Unreal Engine, OpenGL, and game development straight to your inbox
                </p>
                <form class="flex flex-col sm:flex-row max-w-md mx-auto gap-3" hx-post="/newsletter" hx-swap="outerHTML">
                    <input type="email" name="email" placeholder="Enter your email address" required
                           class="flex-1 px-6 py-4 border-2 border-brand-orange rounded-full text-lg outline-none focus:ring-4 focus:ring-brand-orange/30 transition-all duration-300">
                    <button type="submit" 
                            class="bg-brand-orange text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-brand-orange-dark transition-all duration-300 transform hover:-translate-y-1">
                        Subscribe
                    </button>
                </form>
            </div>
        </section>

        <!-- Posts Section -->
        <section class="py-20 bg-white" id="posts">
            <div class="container mx-auto px-5">
                <h2 class="text-4xl font-bold text-center text-brand-orange mb-12">Latest Posts</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" 
                     hx-get="/api/posts" hx-trigger="load" hx-swap="innerHTML">
                    <!-- Posts will be loaded here -->
                    <div class="htmx-indicator col-span-full text-center py-8">
                        <div class="inline-block w-12 h-12 border-4 border-brand-orange border-t-transparent rounded-full animate-spin mb-4"></div>
                        <p class="text-brand-orange font-semibold text-lg">Loading posts...</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-5">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                <div class="text-center md:text-left">
                    <h3 class="text-xl font-bold text-brand-orange mb-4">CodeNPixel</h3>
                    <p class="text-gray-300">Sharing knowledge and experiences in game development and graphics programming.</p>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-xl font-bold text-brand-orange mb-4">Categories</h3>
                    <div class="space-y-2">
                        <p><a href="#" class="text-gray-300 hover:text-brand-orange transition-colors duration-300">Unreal Engine</a></p>
                        <p><a href="#" class="text-gray-300 hover:text-brand-orange transition-colors duration-300">OpenGL</a></p>
                        <p><a href="#" class="text-gray-300 hover:text-brand-orange transition-colors duration-300">Game Development</a></p>
                        <p><a href="#" class="text-gray-300 hover:text-brand-orange transition-colors duration-300">Personal Projects</a></p>
                    </div>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-xl font-bold text-brand-orange mb-4">Connect</h3>
                    <div class="space-y-2">
                        <p><a href="#" class="text-gray-300 hover:text-brand-orange transition-colors duration-300">GitHub</a></p>
                        <p><a href="#" class="text-gray-300 hover:text-brand-orange transition-colors duration-300">Twitter</a></p>
                        <p><a href="#" class="text-gray-300 hover:text-brand-orange transition-colors duration-300">LinkedIn</a></p>
                        <p><a href="#" class="text-gray-300 hover:text-brand-orange transition-colors duration-300">Email</a></p>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 pt-8 text-center">
                <p class="text-gray-400">&copy; 2024 CodeNPixel. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

    <script>
        // Handle newsletter subscription
        document.body.addEventListener('htmx:afterRequest', function(event) {
            if (event.detail.xhr.responseURL.includes('/newsletter')) {
                if (event.detail.xhr.status === 200) {
                    const form = event.target;
                    form.innerHTML = '<p class="text-brand-orange font-bold text-lg">Thank you for subscribing!</p>';
                    setTimeout(() => {
                        location.reload();
                    }, 2000);
                }
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // loding
        // Enhanced loading indicator with user-friendly features
let loadingTimeout;
let loadingOverlay;

document.addEventListener('DOMContentLoaded', function() {
    loadingOverlay = document.getElementById('loading-overlay');
    
    // Show loading indicator when HTMX request starts
    document.body.addEventListener('htmx:beforeRequest', function(event) {
        // Clear any existing timeout
        if (loadingTimeout) {
            clearTimeout(loadingTimeout);
        }
        
        // Show loading overlay with a slight delay to avoid flash for fast requests
        loadingTimeout = setTimeout(() => {
            if (loadingOverlay) {
                loadingOverlay.classList.add('show');
                // Prevent scrolling while loading
                document.body.style.overflow = 'hidden';
            }
        }, 100);
    });
    
    // Hide loading indicator when request completes
    document.body.addEventListener('htmx:afterRequest', function(event) {
        // Clear timeout if request completes quickly
        if (loadingTimeout) {
            clearTimeout(loadingTimeout);
        }
        
        // Hide loading overlay
        if (loadingOverlay) {
            loadingOverlay.classList.remove('show');
            // Restore scrolling
            document.body.style.overflow = '';
        }
    });
    
    // Handle errors gracefully
    document.body.addEventListener('htmx:responseError', function(event) {
        if (loadingTimeout) {
            clearTimeout(loadingTimeout);
        }
        
        if (loadingOverlay) {
            loadingOverlay.classList.remove('show');
            document.body.style.overflow = '';
        }
        
        // Show user-friendly error message
        showNotification('Something went wrong. Please try again.', 'error');
    });
    
    // Network error handling
    document.body.addEventListener('htmx:sendError', function(event) {
        if (loadingTimeout) {
            clearTimeout(loadingTimeout);
        }
        
        if (loadingOverlay) {
            loadingOverlay.classList.remove('show');
            document.body.style.overflow = '';
        }
        
        showNotification('Network error. Please check your connection.', 'error');
    });
});

// Notification system for errors
function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg text-white transform translate-x-full transition-transform duration-300 ${
        type === 'error' ? 'bg-red-500' : 'bg-blue-500'
    }`;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    // Slide in
    setTimeout(() => {
        notification.style.transform = 'translateX(0)';
    }, 100);
    
    // Slide out and remove
    setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 300);
    }, 3000);
}

// Optional: Add click handler to cancel loading (for impatient users)
document.addEventListener('click', function(event) {
    if (event.target.closest('.loading-overlay')) {
        // Allow users to click outside the loading content to continue browsing
        // This is optional - remove if you want to force waiting
        if (loadingOverlay && loadingOverlay.classList.contains('show')) {
            loadingOverlay.classList.remove('show');
            document.body.style.overflow = '';
        }
    }
});
    </script>

    <!-- Add this HTML before the closing </body> tag -->
<div id="loading-overlay" class="loading-overlay">
    <div class="loading-content">
        <div class="loading-spinner"></div>
        <h3 class="text-xl font-bold text-gray-800 mb-2">Loading<span class="loading-dots"></span></h3>
        <p class="text-gray-600 mb-4">Getting your content ready</p>
        <div class="loading-progress">
            <div class="loading-progress-bar"></div>
        </div>
        <p class="text-sm text-gray-500">This won't take long!</p>
    </div>
</div>
</body>
</html>